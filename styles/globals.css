@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base font application */
body {
    @apply font-sans antialiased bg-paper text-ink;
}

.material-symbols-outlined {
    font-variation-settings:
        "FILL" 0,
        "wght" 400,
        "GRAD" 0,
        "opsz" 24;
}

/* Subtle dotted grid background (paper) */
.bg-grid {
    background-color: #f7f4ef;
    background-image: radial-gradient(
        rgba(17, 17, 17, 0.08) 0.6px,
        transparent 0.6px
    );
    background-size: 18px 18px;
}

/* Grid overlay for imagery */
.bg-grid-overlay {
    background-image: radial-gradient(
        rgba(17, 17, 17, 0.15) 0.6px,
        transparent 0.6px
    );
    background-size: 20px 20px;
}

.bg-grid-dark {
    background-color: #171717;
    background-image: radial-gradient(
        rgba(255, 255, 255, 0.08) 0.6px,
        transparent 0.6px
    );
    background-size: 18px 18px;
}

.bg-grid-blue {
    background-color: #0e111a;
    background-image:
        linear-gradient(rgba(45, 74, 255, 0.15) 1px, transparent 1px),
        linear-gradient(90deg, rgba(45, 74, 255, 0.15) 1px, transparent 1px);
    background-size: 20px 20px;
}

/* Blueprint-style CTA background */
.bg-blueprint {
    background-color: #1e3aeb;
    background-image:
        linear-gradient(rgba(255, 255, 255, 0.15) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.15) 1px, transparent 1px);
    background-size: 24px 24px;
}

.prose img {
    @apply mx-auto;
}

.prose figcaption {
    @apply text-center;
}

.prose iframe {
    @apply mx-auto max-w-full;
}

/* Blockquote styling for redesign */
.prose blockquote {
    @apply border-l-2 border-accent py-4 px-6 not-italic my-6 text-neutral-700 bg-white/60;
    quotes: none;
}

.prose blockquote p:first-of-type::before {
    content: none;
}

.prose blockquote p:last-of-type::after {
    content: none;
}

/* About page mission block */
.mission-block {
    @apply relative my-10 border border-neutral-900 bg-white px-6 py-6 md:px-10 md:py-8;
}

.mission-label {
    @apply font-mono uppercase text-xs md:text-sm text-neutral-500 mb-4;
    letter-spacing: 0.32em;
}

.mission-quote {
    @apply m-0 font-serif text-2xl md:text-3xl lg:text-4xl text-neutral-900 font-semibold leading-tight;
}

.mission-emphasis {
    font-style: italic;
    text-decoration: underline;
    text-decoration-color: #e24b2d;
    text-decoration-thickness: 2px;
    text-underline-offset: 6px;
    text-decoration-skip-ink: none;
}

/* Serif headings for essay pages */
.prose-essay h1,
.prose-essay h2,
.prose-essay h3 {
    @apply font-serif;
}

.prose-essay h2 {
    @apply text-2xl md:text-3xl;
}

.prose-essay h3 {
    @apply text-xl md:text-2xl;
}

.prose-essay p {
    @apply text-neutral-600;
}

.twitter-tweet {
    @apply mx-auto;
}

/* Server-rendered MathJax SVG styling */
mjx-container {
    display: inline-block;
    overflow-x: auto;
    overflow-y: hidden;
}

mjx-container[display="true"] {
    display: block !important;
    text-align: center !important;
    margin: 1em auto !important;
    width: 100%;
}

mjx-container[display="true"] svg {
    margin: 0 auto;
}

.imageContainer div {
    /* position: unset !important */
}

.imageImage {
    object-fit: contain;
    width: 100% !important;
    position: relative !important;
    height: unset !important;
}

/* Table styling for markdown tables */
.prose table {
    @apply w-auto border-collapse my-6 mx-auto;
}

.prose th,
.prose td {
    @apply border border-gray-300 px-4 py-2 text-left;
}

.prose th {
    @apply bg-gray-100 font-semibold;
}

.prose tr:nth-child(even) {
    @apply bg-gray-50;
}

/* Talks page heading spacing tweaks */
.talks-prose h2 {
    @apply mt-4;
}
